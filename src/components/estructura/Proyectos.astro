---
import Section from '@/components/Section.astro';
import { projects } from '@/jsons/cv-AP.json';
import GitHub from '@/icons/GitHub.astro';
---

<Section id="Proyectos" title="Proyectos">
  <ul>
    {
      projects.map(
        ({
          name,
          isActive,
          description,
          highlights,
          url,
          repo,
        }) => {
          return (
            <li>
              <article>
                <header>
                  <h3>
                    <a
                      href={url}
                      title={`Ver el proyecto ${name}`}
                      target="_blank"
                    >
                      {name}
                    </a>
                    {isActive && <span>&bull;</span>}
                    {repo && (
                      <a
                        href={`${url}`}
                        title={`Visita el repo del proyecto ${name}`}
                        target="_blank"
                      >
                        <GitHub />
                      </a>
                    )}
                  </h3>
                  <p>{description}</p>
                </header>
                <footer>
                  {highlights.map((highlight) => {
                    return <span>{highlight}</span>;
                  })}
                </footer>
              </article>
            </li>
          );
        }
      )
    }
  </ul>
</Section>
<style>
  ul {
    display: grid;
    grid-template-columns: repeat(
      auto-fit,
      minmax(260px, 1fr)
    );
    gap: 1rem;
  }
  article {
    display: flex;
    flex-direction: column;
    border: 4px solid #eee;
    border-radius: 1rem;
    height: 100%;
    padding: 16px;
    gap: 16px;
    header {
      flex: 1;
      margin-bottom: 1rem;
      h3 {
        display: flex;
        margin-bottom: 0.5rem;
        gap: 0.5rem;
        a {
          color: #111;
        }
        span {
          color: #5bfa5b;
        }
        a:has(svg) {
          padding: 1px;
          display: inline-flex;
          border: 1.5px solid #cfcfcfcb;
          border-radius: 0.5rem;
          transition:
            background 0.3s ease-in-out,
            border 0.5s ease-in-out;

          margin-inline-start: auto;
        }
        a:has(svg):hover {
          background: #5bfa5b;
          border: 1.5px solid #18193f;
          svg {
            animation: 1s linear social;
          }
        }
      }
      a:hover {
        text-decoration: underline;
      }
    }
    footer {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      font-size: 0.6rem;
      span {
        border-radius: 0.5rem;
        background: #eee;
        padding: 0.2rem 0.6rem;
      }
    }
  }
  @media print {
    span {
      border: 2px solid #eee;
      padding: 0.1rem 0.3rem;
    }
  }
</style>
